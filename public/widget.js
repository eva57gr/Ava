(()=>{"use strict";var e={272:(e,t,i)=>{i.d(t,{A:()=>c});var a=i(601),n=i.n(a),o=i(314),r=i.n(o)()(n());r.push([e.id,".jeeves-chat-widget-chat-container{position:relative;background-color:#fff;box-shadow:0 0 10px rgba(0,0,0,.25);width:400px;position:fixed;bottom:85px;right:20px;border:1px solid #ccc;border-radius:10px;height:0;opacity:0;transition:all .5s cubic-bezier(0.215, 0.61, 0.355, 1)}.jeeves-chat-widget-chat-container.open{height:600px;opacity:1;z-index:999998}.jeeves-chat-widget-chat-container iframe{width:100%;height:100%;border:none;outline:none;border-radius:10px;height:600px}.jeeves-chat-widget-chat-container.jeeves-chat-widget-chat-loaded .jeeves-chat-widget-chat-loader{display:none}.jeeves-chat-widget-chat-closer{position:absolute;top:15px;right:15px;color:#999;width:28px;height:28px;padding:4px;padding-left:6px;border-radius:50%;opacity:.5;transition:all .25s;text-align:center;box-sizing:border-box;cursor:pointer}.jeeves-chat-widget-chat-closer:hover{box-shadow:0 0 3px rgba(0,0,0,.25);opacity:1}.jeeves-chat-widget-chat-closer-icon{width:14px;height:14px}.jeeves-chat-widget-hide-before-loaded .jeeves-chat-widget-chat-container iframe{display:none}.jeeves-chat-widget-hide-before-loaded .jeeves-chat-widget-chat-container.jeeves-chat-widget-chat-loaded iframe{display:block}.jeeves-chat-widget-chat-loader{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;background-color:rgba(0,0,0,.1);border-radius:10px}.jeeves-chat-widget-chat-loader-animation{display:inline-block;position:relative;width:80px;height:80px;top:50%;left:50%;transform:translate(-50%, -50%)}.jeeves-chat-widget-chat-loader-animation div{position:absolute;border:4px solid #fff;opacity:1;border-radius:50%;animation:jeeves-chat-widget-loader-animation 1.5s cubic-bezier(0, 0.2, 0.8, 1) infinite}.jeeves-chat-widget-chat-loader-animation div:nth-child(2){animation-delay:-0.5s}@keyframes jeeves-chat-widget-loader-animation{0%{top:36px;left:36px;width:0;height:0;opacity:1}100%{top:0px;left:0px;width:80px;height:80px;opacity:0}}.jeeves-chat-widget-notification-container{position:relative;background-color:#fff;box-shadow:0 0 10px rgba(0,0,0,.25);position:fixed;bottom:20px;right:20px;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:border .25s;z-index:999999;margin-top:10px;width:60px;height:60px;margin-left:auto;border-radius:50%}.jeeves-chat-widget-notification-container iframe{width:100%;height:100%;border:none;outline:none;border-radius:50%}.jeeves-chat-widget-notification-toggle{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;border-radius:50%}.jeeves-chat-widget-notification-toggle-icon{border-radius:50%;position:relative}.jeeves-chat-widget-notification-toggle-icon img{width:100%;height:auto}.jeeves-chat-widget-use-notification-frame .jeeves-chat-widget-notification-container.jeeves-chat-widget-notification-loaded .jeeves-chat-widget-notification-toggle .jeeves-chat-widget-notification-toggle-icon{display:none}@media(max-width: 767px),screen and (max-device-width: 767px){.jeeves-chat-widget-chat-container{right:0;left:0;top:0;width:100%}.jeeves-chat-widget-chat-container iframe{height:100%}.jeeves-chat-widget-chat-container.open{height:auto}}",""]);const c=r},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",a=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),a&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),a&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,a,n,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(a)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(r[s]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);a&&r[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),i&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=i):l[2]=i),n&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=n):l[4]="".concat(n)),t.push(l))}},t}},601:e=>{e.exports=function(e){return e[1]}},385:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},72:e=>{var t=[];function i(e){for(var i=-1,a=0;a<t.length;a++)if(t[a].identifier===e){i=a;break}return i}function a(e,a){for(var o={},r=[],c=0;c<e.length;c++){var s=e[c],d=a.base?s[0]+a.base:s[0],l=o[d]||0,h="".concat(d," ").concat(l);o[d]=l+1;var u=i(h),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var f=n(p,a);a.byIndex=c,t.splice(c,0,{identifier:h,updater:f,references:1})}r.push(h)}return r}function n(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,n){var o=a(e=e||[],n=n||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var c=i(o[r]);t[c].references--}for(var s=a(e,n),d=0;d<o.length;d++){var l=i(o[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=s}}},659:e=>{var t={};e.exports=function(e,i){var a=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(i)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var a="";i.supports&&(a+="@supports (".concat(i.supports,") {")),i.media&&(a+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(a+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),a+=i.css,n&&(a+="}"),i.media&&(a+="}"),i.supports&&(a+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},171:(e,t,i)=>{e.exports=i.p+"ea15bdf44e9488153484.svg"}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={id:a,exports:{}};return e[a](o,o.exports,i),o.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i.b=document.baseURI||self.location.href,i.nc=void 0,(()=>{var e=i(72),t=i.n(e),a=i(825),n=i.n(a),o=i(659),r=i.n(o),c=i(56),s=i.n(c),d=i(540),l=i.n(d),h=i(113),u=i.n(h),p=i(272),f={};f.styleTagTransform=u(),f.setAttributes=s(),f.insert=r().bind(null,"head"),f.domAPI=n(),f.insertStyleElement=l(),t()(p.A,f),p.A&&p.A.locals&&p.A.locals;var g=i(385),v=i.n(g),m=new URL(i(171),i.b);const b='<div class="jeeves-chat-widget-chat-container"> <iframe></iframe> <div class="jeeves-chat-widget-chat-loader"> <div class="jeeves-chat-widget-chat-loader-animation"> <div></div> <div></div> </div> </div> <div class="jeeves-chat-widget-chat-closer"> <div class="jeeves-chat-widget-chat-closer-icon"> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"> <path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path> </svg> </div> </div> </div> <div class="jeeves-chat-widget-notification-container"> <iframe></iframe> <div class="jeeves-chat-widget-notification-toggle"> <div class="jeeves-chat-widget-notification-toggle-icon"> <img src="'+v()(m)+'"/> </div> </div> </div> ';function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e,t,i){return(t=k(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function O(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,k(a.key),a)}}function k(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!=y(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}const C=function(e,t){var i={app_key:null,companyName:null,autoOpen:!1,timeToOpen:10,hideBeforeLoaded:!1,loadAfterWidgetOpen:!1,delayBeforeLoad:500,useNotificationframe:!1,unloadWaitingHandler:null},a={autoOpenEnabled:!0},n="jeeves-chat-widget",o=n,r=new URL("https://ava-gamma.vercel.app").origin,c=function(){return c=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$widget=null,this.$chatCloser=null,this.$chatFrame=null,this.$notificationFrame=null,this.$notificationToggle=null,this.chatLoaded=!1,this.settings={},this.options={},this.configure(t),this.autoOpenHandler=null},s=[{key:"configure",value:function(e){this.options=x(x({},i),e)}},{key:"load",value:function(){this.attachView(),this.loadNotificationFrame(),this.loadSettings(),this.configureAutoOpen()}},{key:"attachView",value:function(){var e=t.getElementById(o);e||((e=t.createElement("div")).id=o,e.classList.add(n),this.options.hideBeforeLoaded&&e.classList.add("".concat(n,"-hide-before-loaded")),this.options.useNotificationframe&&e.classList.add("".concat(n,"-use-notification-frame")),t.getElementsByTagName("body")[0].appendChild(e)),e.innerHTML=b,this.$widget=e,this.$chatCloser=e.querySelector(".".concat(n,"-chat-container>.").concat(n,"-chat-closer")),this.$chatFrame=e.querySelector(".".concat(n,"-chat-container>iframe")),this.$notificationFrame=e.querySelector(".".concat(n,"-notification-container>iframe")),this.$notificationToggle=e.querySelector(".".concat(n,"-notification-container>.").concat(n,"-notification-toggle")),e=null}},{key:"getChatAppUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&"/".concat(e),"".concat("https://ava-gamma.vercel.app")}},{key:"loadNotificationFrame",value:function(){this.$notificationToggle.addEventListener("click",this.onNotificationToggleClicked.bind(this)),this.$chatCloser.addEventListener("click",this.onNotificationToggleClicked.bind(this)),this.options.useNotificationframe&&(this.$notificationFrame.onload=this.onNotificationFrameLoaded.bind(this))}},{key:"onNotificationFrameLoaded",value:function(){console.debug("notification frame loaded"),this.$notificationFrame.parentNode.classList.add("".concat(n,"-notification-loaded"))}},{key:"configureAutoOpen",value:function(){if(!0===this.options.autoOpen&&this.settings.autoOpenEnabled){var e=1e3*(isNaN(this.options.timeToOpen)?10:this.options.timeToOpen);this.autoOpenHandler=setTimeout(this.onNotificationToggleClicked.bind(this),e)}}},{key:"clearAutoOpenHandler",value:function(){this.autoOpenHandler&&(clearTimeout(this.autoOpenHandler),this.autoOpenHandler=null)}},{key:"loadSettings",value:function(){var e=sessionStorage.getItem(o);this.settings=e?x(x({},a),JSON.parse(e)):a}},{key:"saveSettings",value:function(){sessionStorage.setItem(o,JSON.stringify(this.settings))}},{key:"saveAutoOpenEnabledState",value:function(e){this.settings.autoOpenEnabled=e,this.saveSettings()}},{key:"onNotificationToggleClicked",value:function(){console.debug("notification toggle clicked"),this.clearAutoOpenHandler(),this.$chatFrame.parentNode.classList.toggle("open");var e=this.$chatFrame.parentNode.className.split(" ").includes("open");if(this.saveAutoOpenEnabledState(e),e){if(this.chatLoaded)return void this.clearUnloadWaitingHandler();this.options.loadAfterWidgetOpen?setTimeout(this.loadChatFrame.bind(this),this.options.delayBeforeLoad):this.loadChatFrame()}else{if(this.chatLoaded)return;this.unloadChatFrame()}}},{key:"loadChatFrame",value:function(){console.debug("loading chat frame..."),this.$chatFrame.onload=this.onChatFrameLoaded.bind(this),this.$chatFrame.src=this.getChatAppUrl()}},{key:"unloadChatFrame",value:function(){console.debug("unloading chat frame..."),this.$chatFrame.onload=null,this.$chatFrame.removeAttribute("src"),console.debug("chat frame unloaded.")}},{key:"onChatFrameLoaded",value:function(){console.debug("chat frame loaded"),this.$chatFrame.parentNode.classList.add("".concat(n,"-chat-loaded")),this.$chatFrame.onload=null,this.chatLoaded=!0,this.setupChannelWithChatApp()}},{key:"clearUnloadWaitingHandler",value:function(){this.unloadWaitingHandler&&(clearTimeout(this.unloadWaitingHandler),this.unloadWaitingHandler=null,console.debug("unload waiting handler cleared."))}},{key:"unloadChat",value:function(){this.unloadChatFrame(),this.chatLoaded=!1,this.unloadWaitingHandler=null,console.debug("chat finished.")}},{key:"finishChat",value:function(){console.debug("finishing chat..."),this.$chatFrame.parentNode.classList.remove("open"),this.unloadWaitingHandler||(this.unloadWaitingHandler=setTimeout(this.unloadChat.bind(this),this.options.delayBeforeLoad),console.debug("unload waiting handler created."))}},{key:"setupChannelWithChatApp",value:function(){e.addEventListener("message",this.onChatAppSignalReceived.bind(this),!1),this.sendHandshakeSignalToChatApp()}},{key:"sendHandshakeSignalToChatApp",value:function(){this.sendSignalToChatApp({signal:"handshake",appKey:this.options.app_key,companyName:this.options.companyName})}},{key:"sendSignalToChatApp",value:function(e){r&&this.$chatFrame.contentWindow.postMessage(e,r)}},{key:"onChatAppSignalReceived",value:function(e){if(e.origin===r)switch(console.debug("got a signal from the chat app: ",e.data),e.data.signal){case"close":this.onNotificationToggleClicked();break;case"finish":this.finishChat()}}}],s&&O(c.prototype,s),Object.defineProperty(c,"prototype",{writable:!1}),c;var c,s}();return c}(window,document),S=C;window,document.querySelector('script[data-chat-app-id="Revi"]'),(new S).load(),console.log("new app started")})()})();